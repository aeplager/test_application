{% extends "baselayout.html" %}
{% block title %}
    Test Deal
{% endblock %}

{% block init_scripts %}            
<script>
    function initialize(){
        try{
            // Initialize all values            
            urlMainBase = '/api_wholesaledeal/general/'
            urlMain = urlMainBase + 'deallist';    
            general_fill_selector('selWholeSaleDeal',urlMain,'Wholesale Deal');
            urlMain = urlMainBase + 'counterparty';    
            general_fill_selector('selWholeSaleCounterParty',urlMain,'Wholesale Deal');
            urlMain = urlMainBase + 'counterparty';    
            general_fill_selector('selWholeSaleSecondCounterParty',urlMain,'Counterparty');
            urlMain = urlMainBase + 'wholesaleblock';    
            general_fill_selector('selWholesaleBlock',urlMain,'Wholesale Block');
            urlMain = urlMainBase + 'settlementpoint';    
            general_fill_selector('selSettlementPoint',urlMain,'Settlement Point');
            urlMain = urlMainBase + 'settlementlocation';    
            general_fill_selector('selSettlementLocation',urlMain,'Settlement Location');
        }catch (e) {
            e= 'You received an error on startup:  ' + e;
            general_error(e);
        }
    }
</script>
{% endblock %}
{% block content %}
    <div class="sub-nav hidden-sm hidden-xs">
        <ul>
            <li><a href="" class="heading">Test Deal Entry Form</a></li>  <!--Main Form for Data Entry-->
            <li class="hidden-sm hidden-xs">
                <a href="#RemoveAbleDiv_Cust"></a>
            </li>
            <li class="hidden-sm hidden-xs">
                <a href="#"></a>
            </li>
            <!--<li class="hidden-sm hidden-xs">
                <a href="#inputs">Status of Upload</a>
            </li>-->
        </ul>
        <div class="custom-search hidden-sm hidden-xs">
            <input type="text" class="search-query" placeholder="Search here ...">
            <i class="fa fa-search"></i>
        </div>
    </div>
    <div class="dashboard-wrapper">
        <div class="left-sidebar">
            <div class="col-lg-12 col-md-12">
                <div class="widget">
                    <div class="widget-header">
                        <div class="title">
                            Deal Entry
                            <span class="mini-title">
                                Enter Deals<a id="enter-deal-single"></a>
                            </span>
                        </div>
                    </div>
                    <div class="widget-body">                                            
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="col-sm-4">
                                    <label for="DealListLabel" class="col-sm-4 control-label">Select Deal</label>                                
                                    <select id="selWholeSaleDeal" name="DealInfoList_Deal_name" class="form-control" onchange="wholesaledeal_dealselect()">
                                        <option>-WholeSale Deal-</option>
                                    </select>                                    
                                </div>
                                <div class="col-sm-6">
                                    <label for="userName" class="col-sm-4 control-label">Deal Name</label>                                    
                                    <input type="text" class="form-control" id="WholeSaleDealName" placeholder="-Deal Name-">                                    
                                </div>
                                <div class="col-sm-2">                                                                                                                                             
                                    <label id="WholeSaleDealConfirmStatus" for="userName" class="col-sm-4 control-label confirm_label" hidden>Confirmed</label>                                                                        
                                </div>                                
                            </div>
                        </div>
                        <div class="row">
                            <label for="pwd" class="col-sm-2 control-label"></label>
                            <div class="col-sm-12">
                                <div class="col-md-4 col-sm-4 col-xs-4">
                                    <label for="pwd" class="col-sm-4 control-label">Counterparty</label>
                                    <select id="selWholeSaleCounterParty" class="form-control">
                                        <option>
                                            - Counterparty -
                                        </option>
                                        <option value="1">
                                            January
                                        </option>
                                    </select>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-4">
                                    <label for="pwd" class="col-sm-6 control-label">Secondary Counterparty</label>
                                    <select id="selWholeSaleSecondCounterParty" class="form-control">
                                        <option>
                                            - Second Counterparty -
                                        </option>
                                        <option value="1">
                                            January
                                        </option>
                                    </select>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-4">
                                    <label for="pwd" class="col-sm-5 control-label">Wholesale Block</label>
                                    <select id="selWholesaleBlock" class="form-control" onchange="wholesale_deal_selector()">
                                        <option>
                                            - Wholesale Block -
                                        </option>
                                        <option value="1">
                                            January
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <label for="pwd" class="col-sm-2 control-label"></label>
                            <div class="col-sm-12">
                                <div class="col-md-4 col-sm-4 col-xs-4">
                                    <label for="pwd" class="col-sm-4 control-label">Settlement Point</label>
                                    <select id="selSettlementPoint" class="form-control">
                                        <option>
                                            - Settlement Point -
                                        </option>
                                        <option value="1">
                                            January
                                        </option>
                                    </select>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-4">
                                    <label for="pwd" class="col-sm-5 control-label">Settlement Location</label>
                                    <select id="selSettlementLocation" class="form-control">
                                        <option>
                                            - Settlement Location -
                                        </option>
                                        <option value="1">
                                            January
                                        </option>
                                    </select>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-4 alignbuttonbottom">
                                    <div class="col-md-4 col-sm-4 col-xs-4">
                                        <!--<label for="pwd" class="col-sm-5 control-label">Upload Custom</label>-->
                                        <!--<div class="form-group" hidden>
                                            <input type="file" id="files" value="test" onchange="wholesale_uploader_show_file(this)">
                                        </div>
                                        <button type="button" class="btn btn-info" id="wholesale_deal_btn_upload" onclick="wholesale_uploader_upload_files()" disabled>Upload Custom</button>-->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <label for="pwd" class="col-sm-2 control-label"></label>
                            <div class="col-sm-12">
                                <table class="table table-responsive table-striped table-bordered table-hover no-margin">
                                    <tr>
                                        <th>
                                            <span class="name">
                                                Start Date
                                            </span>                                            
                                        </th>
                                        <th>
                                            <span class="name">
                                                End Date
                                            </span>
                                        </th>
                                        <th>
                                            <span class="name">
                                                Physical/Financial
                                            </span>
                                        </th>
                                        <th>
                                            <span class="name">
                                                Type of Deal
                                            </span>
                                        </th>                                            
                                    </tr>
                                    <tr>
                                        <td>
                                            <input type="date" class="col-sm-7" id="startdate" name="startdate">                            
                                        </td>
                                        <td>
                                            <input type="date" class="col-sm-7" id="enddate" name="enddate">
                                        </td>  
                                        <td>
                                            <form name="myFormPhysicalFinancial">
                                                <input type='radio' name='PhysicalFinancialRadio' value='PhysicalValue' checked> Physical
                                                <input type='radio' name='PhysicalFinancialRadio' value='FinanicalValue'> Finanical
                                            </form>                                            
                                        </td>         
                                        <td>
                                            <form name="myForm">
                                                <input type='radio' name='BuySellRadio' value='BuyValue' checked> Buy
                                                <input type='radio' name='BuySellRadio' value='SellValue'> Sell
                                            </form>                                            
                                        </td>                                                                                                                                                       
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="row">
                            <label for="pwd" class="col-sm-2 control-label"></label>
                            <div class="col-sm-12">
                                <table class="table table-responsive table-striped table-bordered table-hover no-margin">
                                    <tr>
                                        <th>
                                            <span class="name">
                                                Volume
                                            </span>                                            
                                        </th>
                                        <th>
                                            <span class="name">
                                                Price
                                            </span>
                                        </th>
                                        <th>
                                            <span class="name">
                                                Fee
                                            </span>
                                        </th>
                                    </tr>
                                    <tr>
                                        <td>
                                            <input type="number" class="form-control" id="WholeSaleDealVolume" placeholder="0.00" min="-1.00" max="500000.00">
                                        </td>
                                        <td>
                                            <input type="number" class="form-control" id="WholeSaleDealPrice" placeholder="0.00" min="-1.00" max="500000.00">
                                        </td>                                        
                                        <td>
                                            <input type="number" class="form-control" id="WholeSaleDealFee" placeholder="0.00" min="-1.00" max="500000.00">
                                        </td>                                                                                                                                                           
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group">
                                <div class="checkbox col-sm-offset-2 col-sm-20">
                                    <label>
                                        <input type="checkbox" hidden id="Active_Deal" checked="checked"><!--Is Deal Active?-->
                                    </label>
                                    <button type="button" class="btn btn-default btn" onclick="wholesale_deal_new()">New</button>
                                    <button type="button" class="btn btn-info" onclick="wholesale_deal_call_save()">Save</button>                                    
                                    <div class="form-group" hidden>
                                        <div> Uploaded Bytes: <font id="read"> </font> </div>
                                        <div class="progress">
                                            <div id="progress" class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
                                                0%
                                            </div>                                           
                                        </div>                                                                             
                                    </div>
                                    <div id="wholesale_deal_datafactorprocessing_div" hidden>
                                            <div> Processing of File: <font id="read"> </font> </div>
                                            <img src="{{ url_for('static', filename='img/loading-red.gif')}}" alt="Processing" width="50" height="50">                                            
                                        </div> 
                                    </div>
                                    <div class="form-group" id="MainSelection_FormSelector">
                                    </div>
                                </div>
                            </div>
                        </div> 
    <div class="form-group">
        <div class="modal fade" id="myModalCustom">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div style="width: 70%;padding: 10px;margin: auto;">
                        <label id="ProgressLabel" class="label-bullet-blue">Excel Workbook Uploader</label>
                        <br />
                        <div class="row">
                            <label class="label-bullet-blue">Select a Sheet</label>
                            <select id="selSheets" class="form-control">
                                <option value="0">
                                    - Select Sheet -
                                </option>
                            </select>
                        </div>
                        <div class=""></div>
                        <div style="width: 70%;padding: 10px;margin: auto;" class="row">
                            <input type="button" id="cancel_button" class="btn btn-primary btn-lg" value="Cancel" onclick="$('#myModalCustom').modal('hide');" />
                            <input type="button" id="ok_button" class="btn btn-primary btn-lg" value="OK" onclick="wholesaledeal_uploader_custom();" />  <!--run_data_factory_pull_excel(1)-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>    

                </div>
            </div>                
        </div>
    </div>
{% endblock %}